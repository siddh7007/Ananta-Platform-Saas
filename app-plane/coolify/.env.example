# =============================================================================
# Ananta Platform - Coolify Production Environment Variables
# =============================================================================
# Copy this file to .env and fill in ALL required values before deployment
# REQUIRED variables have no default - deployment will FAIL without them
# =============================================================================

# =============================================================================
# CONTROL PLANE - DATABASE
# =============================================================================
# PostgreSQL for Arc-SaaS control plane (tenant-management, keycloak)
CONTROL_PLANE_DB_PASSWORD=                    # REQUIRED - Strong password for postgres

# =============================================================================
# CONTROL PLANE - REDIS
# =============================================================================
CONTROL_PLANE_REDIS_PASSWORD=                 # REQUIRED - Redis auth password

# =============================================================================
# CONTROL PLANE - KEYCLOAK (Authentication)
# =============================================================================
KEYCLOAK_ADMIN=admin                          # Keycloak admin username
KEYCLOAK_ADMIN_PASSWORD=                      # REQUIRED - Keycloak admin password
KEYCLOAK_HOSTNAME=auth.yourdomain.com         # Public hostname for Keycloak
KEYCLOAK_URL=https://auth.yourdomain.com      # Full Keycloak URL
KEYCLOAK_REALM=ananta-saas                    # Keycloak realm name

# =============================================================================
# CONTROL PLANE - MINIO (Object Storage)
# =============================================================================
CONTROL_PLANE_MINIO_USER=minioadmin           # MinIO root username
CONTROL_PLANE_MINIO_PASSWORD=                 # REQUIRED - MinIO root password

# =============================================================================
# CONTROL PLANE - NOVU (Notifications)
# =============================================================================
NOVU_API_URL=https://novu-api.yourdomain.com  # Public Novu API URL
NOVU_WEB_URL=https://novu.yourdomain.com      # Public Novu dashboard URL
NOVU_WS_URL=wss://novu-ws.yourdomain.com      # WebSocket URL
NOVU_JWT_SECRET=                              # REQUIRED - 32+ char JWT secret
NOVU_ENCRYPTION_KEY=                          # REQUIRED - 32+ char encryption key
NOVU_SECRET_KEY=                              # REQUIRED - Novu API key
NOVU_API_KEY=                                 # REQUIRED - For novu-consumer

# =============================================================================
# CONTROL PLANE - TEMPORAL (Workflow Engine)
# =============================================================================
TEMPORAL_DB_PASSWORD=                         # REQUIRED - Temporal postgres password

# =============================================================================
# CONTROL PLANE - TENANT MANAGEMENT SERVICE
# =============================================================================
CONTROL_PLANE_API_URL=https://api.yourdomain.com  # Public API URL
JWT_SECRET=                                   # REQUIRED - JWT signing secret
JWT_ISSUER=https://auth.yourdomain.com        # JWT issuer (Keycloak URL)
NOVU_SUBSCRIBER_ID=ananta-platform            # Novu subscriber identifier

# Keycloak Admin (for user provisioning)
KEYCLOAK_ADMIN_CLIENT_ID=admin-cli
KEYCLOAK_ADMIN_CLIENT_SECRET=                 # REQUIRED if using client credentials

# =============================================================================
# APP PLANE - SUPABASE DATABASE
# =============================================================================
SUPABASE_DB_PASSWORD=                         # REQUIRED - Supabase postgres password
SUPABASE_JWT_SECRET=                          # REQUIRED - 32+ char, must match PostgREST
SUPABASE_ANON_KEY=                            # REQUIRED - Supabase anonymous key
SUPABASE_SERVICE_ROLE_KEY=                    # REQUIRED - Supabase service role key
SUPABASE_API_URL=https://supabase.yourdomain.com  # Public Supabase URL

# =============================================================================
# APP PLANE - COMPONENTS V2 DATABASE
# =============================================================================
COMPONENTS_V2_DB_PASSWORD=                    # REQUIRED - Components catalog postgres password

# =============================================================================
# APP PLANE - REDIS
# =============================================================================
APP_PLANE_REDIS_PASSWORD=                     # REQUIRED - App plane Redis password

# =============================================================================
# APP PLANE - RABBITMQ (Message Queue)
# =============================================================================
RABBITMQ_USER=admin                           # RabbitMQ username
RABBITMQ_PASSWORD=                            # REQUIRED - RabbitMQ password

# =============================================================================
# APP PLANE - MINIO (Object Storage)
# =============================================================================
APP_PLANE_MINIO_USER=minioadmin               # MinIO root username
APP_PLANE_MINIO_PASSWORD=                     # REQUIRED - MinIO root password

# =============================================================================
# APP PLANE - CNS SERVICE
# =============================================================================
CNS_API_URL=https://cns-api.yourdomain.com    # Public CNS API URL
CNS_SERVICE_SECRET_KEY=                       # REQUIRED - CNS service secret

# DigiKey API (Component Enrichment)
DIGIKEY_CLIENT_ID=                            # DigiKey API client ID
DIGIKEY_CLIENT_SECRET=                        # DigiKey API client secret

# Mouser API (Component Enrichment)
MOUSER_API_KEY=                               # Mouser Search API key

# =============================================================================
# APP PLANE - DJANGO BACKEND
# =============================================================================
DJANGO_SECRET_KEY=                            # REQUIRED - Django secret key
DJANGO_API_URL=https://django.yourdomain.com  # Public Django API URL
DJANGO_DEBUG=false                            # Set to false in production!

# =============================================================================
# APP PLANE - DIRECTUS (Headless CMS)
# =============================================================================
DIRECTUS_KEY=                                 # REQUIRED - Directus app key
DIRECTUS_SECRET=                              # REQUIRED - Directus secret
DIRECTUS_ADMIN_EMAIL=admin@yourdomain.com     # Admin email
DIRECTUS_ADMIN_PASSWORD=                      # REQUIRED - Admin password
DIRECTUS_PUBLIC_URL=https://cms.yourdomain.com  # Public CMS URL

# =============================================================================
# APP PLANE - WEBHOOK BRIDGE
# =============================================================================
APP_PLANE_WEBHOOK_SECRET=                     # REQUIRED - Webhook signing secret

# =============================================================================
# FRONTEND APPLICATIONS
# =============================================================================
# Admin App (Control Plane Admin Portal)
ADMIN_APP_URL=https://admin.yourdomain.com

# Customer Portal
CUSTOMER_PORTAL_URL=https://portal.yourdomain.com

# CNS Dashboard
CNS_DASHBOARD_URL=https://cns.yourdomain.com

# Backstage Portal
BACKSTAGE_PORTAL_URL=https://backstage.yourdomain.com

# =============================================================================
# OBSERVABILITY (Optional)
# =============================================================================
JAEGER_AGENT_HOST=jaeger
JAEGER_AGENT_PORT=6831
ENABLE_TRACING=true

# =============================================================================
# VALIDATION CHECKLIST
# =============================================================================
# Before deploying, ensure ALL of these are set:
# [ ] CONTROL_PLANE_DB_PASSWORD
# [ ] CONTROL_PLANE_REDIS_PASSWORD
# [ ] KEYCLOAK_ADMIN_PASSWORD
# [ ] CONTROL_PLANE_MINIO_PASSWORD
# [ ] NOVU_JWT_SECRET (32+ chars)
# [ ] NOVU_ENCRYPTION_KEY (32+ chars)
# [ ] NOVU_SECRET_KEY
# [ ] NOVU_API_KEY
# [ ] TEMPORAL_DB_PASSWORD
# [ ] JWT_SECRET
# [ ] SUPABASE_DB_PASSWORD
# [ ] SUPABASE_JWT_SECRET (32+ chars)
# [ ] SUPABASE_ANON_KEY
# [ ] SUPABASE_SERVICE_ROLE_KEY
# [ ] COMPONENTS_V2_DB_PASSWORD
# [ ] APP_PLANE_REDIS_PASSWORD
# [ ] RABBITMQ_PASSWORD
# [ ] APP_PLANE_MINIO_PASSWORD
# [ ] CNS_SERVICE_SECRET_KEY
# [ ] DJANGO_SECRET_KEY
# [ ] DIRECTUS_KEY
# [ ] DIRECTUS_SECRET
# [ ] DIRECTUS_ADMIN_PASSWORD
# [ ] APP_PLANE_WEBHOOK_SECRET
# =============================================================================
