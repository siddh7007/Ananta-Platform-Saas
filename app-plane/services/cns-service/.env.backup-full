# Component Intelligence Portal (CIP) - Environment Variables

# ===================================
# Service Configuration
# ===================================
CIP_PORT=27700
CIP_HOST=0.0.0.0
LOG_LEVEL=INFO
ENVIRONMENT=development  # development | staging | production

# ===================================
# Database Configuration
# ===================================
DATABASE_URL=postgresql://postgres:postgres@localhost:5432/components
DATABASE_POOL_SIZE=20
DATABASE_MAX_OVERFLOW=10

# Redis Cache
REDIS_URL=redis://localhost:6379/0
REDIS_CACHE_TTL=3600  # 1 hour in seconds

# ===================================
# Temporal Workflow Configuration
# ===================================
TEMPORAL_URL=localhost:7233
TEMPORAL_NAMESPACE=default
TEMPORAL_TASK_QUEUE=cip-enrichment

# ===================================
# AI Providers Configuration
# ===================================

# Ollama (Local, Free - Priority 1)
OLLAMA_ENABLED=true
OLLAMA_URL=http://localhost:27260
OLLAMA_MODEL=llama3:8b
OLLAMA_TIMEOUT=30

# OpenAI (Priority 2)
OPENAI_ENABLED=true
OPENAI_API_KEY=sk-...
OPENAI_MODEL=gpt-4-turbo
OPENAI_MAX_TOKENS=1000
OPENAI_TEMPERATURE=0.3

# Claude (Priority 3)
CLAUDE_ENABLED=true
CLAUDE_API_KEY=sk-ant-...
CLAUDE_MODEL=claude-3-sonnet-20240229
CLAUDE_MAX_TOKENS=1000
CLAUDE_TEMPERATURE=0.3

# Perplexity (Priority 4 - Web Search)
PERPLEXITY_ENABLED=false
PERPLEXITY_API_KEY=pplx-...
PERPLEXITY_MODEL=pplx-7b-online
PERPLEXITY_MAX_TOKENS=500

# ===================================
# Supplier API Configuration - Tier 1
# ===================================

# Mouser
MOUSER_ENABLED=true
MOUSER_API_KEY=your-mouser-api-key
MOUSER_BASE_URL=https://api.mouser.com/api/v1
MOUSER_RATE_LIMIT=100  # requests per minute

# DigiKey
DIGIKEY_ENABLED=true
DIGIKEY_CLIENT_ID=your-digikey-client-id
DIGIKEY_CLIENT_SECRET=your-digikey-client-secret
DIGIKEY_BASE_URL=https://api.digikey.com
DIGIKEY_RATE_LIMIT=1000  # requests per day

# Element14
ELEMENT14_ENABLED=true
ELEMENT14_API_KEY=your-element14-api-key
ELEMENT14_BASE_URL=https://api.element14.com/catalog/products
ELEMENT14_RATE_LIMIT=50  # requests per minute

# ===================================
# Supplier API Configuration - Tier 2
# ===================================

# Octopart (Future)
OCTOPART_ENABLED=false
OCTOPART_API_KEY=your-octopart-api-key
OCTOPART_BASE_URL=https://octopart.com/api/v4

# SiliconExpert (Future)
SILICONEXPERT_ENABLED=false
SILICONEXPERT_API_KEY=your-siliconexpert-api-key
SILICONEXPERT_BASE_URL=https://api.siliconexpert.com

# ===================================
# Supplier API Configuration - Tier 3 (OEM)
# ===================================

# Texas Instruments (Future)
TI_ENABLED=false
TI_API_KEY=your-ti-api-key
TI_BASE_URL=https://www.ti.com/api

# STMicroelectronics (Future)
ST_ENABLED=false
ST_API_KEY=your-st-api-key
ST_BASE_URL=https://www.st.com/api

# Microchip (Future)
MICROCHIP_ENABLED=false
MICROCHIP_API_KEY=your-microchip-api-key
MICROCHIP_BASE_URL=https://www.microchip.com/api

# ===================================
# Web Scraping Configuration - Tier 4
# ===================================
WEB_SCRAPING_ENABLED=false
PLAYWRIGHT_HEADLESS=true
PLAYWRIGHT_TIMEOUT=30000  # 30 seconds

# ===================================
# Quality & Routing Configuration
# ===================================
QUALITY_REJECT_THRESHOLD=70      # < 70% = reject
QUALITY_STAGING_THRESHOLD=94     # 70-94% = staging
QUALITY_AUTO_APPROVE_THRESHOLD=95  # >= 95% = auto-approve

# ===================================
# Authentication & Security
# ===================================
KEYCLOAK_URL=http://localhost:27100/realms/components-platform
KEYCLOAK_CLIENT_ID=cip-service
KEYCLOAK_CLIENT_SECRET=your-client-secret
JWT_SECRET_KEY=your-jwt-secret-key-change-this-in-production
JWT_ALGORITHM=HS256
JWT_EXPIRATION=3600  # 1 hour

# ===================================
# CORS Configuration
# ===================================
CORS_ORIGINS=http://localhost:27500,http://localhost:3000,http://localhost:27710
CORS_ALLOW_CREDENTIALS=true

# ===================================
# File Upload Configuration
# ===================================
MAX_UPLOAD_SIZE=10485760  # 10 MB in bytes
ALLOWED_FILE_EXTENSIONS=.csv,.xlsx,.xls
UPLOAD_DIR=/tmp/cip-uploads

# ===================================
# Monitoring & Observability
# ===================================
GRAFANA_URL=http://localhost:27082
LOKI_URL=http://localhost:27081
PROMETHEUS_URL=http://localhost:27270

# Enable metrics endpoint
ENABLE_METRICS=true
METRICS_PORT=27701

# ===================================
# Feature Flags
# ===================================
ENABLE_AI_SUGGESTIONS=true
ENABLE_WEB_SCRAPING=false
ENABLE_TIER2_SUPPLIERS=false
ENABLE_TIER3_OEM=false
ENABLE_MULTI_AI_FALLBACK=true
ENABLE_COST_TRACKING=true

# ===================================
# Notification Configuration
# ===================================
SMTP_HOST=localhost
SMTP_PORT=1025
SMTP_USERNAME=
SMTP_PASSWORD=
SMTP_FROM=noreply@cip.local

# ===================================
# Development & Testing
# ===================================
DEBUG=false
TEST_MODE=false
MOCK_SUPPLIER_APIS=false  # Use mocked responses for testing
JWT_SECRET_KEY=test_secret_key_for_development_only
